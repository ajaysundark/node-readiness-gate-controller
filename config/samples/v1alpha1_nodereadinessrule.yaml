apiVersion: nodereadiness.io/v1alpha1
kind: NodeReadinessRule
metadata:
  labels:
    app.kubernetes.io/name: nrgcontroller
    app.kubernetes.io/managed-by: kustomize
  name: nodereadinessrule-sample
spec:
  conditions:
    - type: "network.kubernetes.io/CNIReady"
      requiredStatus: "True"
  taint:
    key: "readiness.k8s.io/NetworkReady"
    effect: "NoSchedule"
    value: "pending"
  enforcementMode: "bootstrap-only"
  nodeSelector:
    matchLabels:
      node-role.kubernetes.io/worker: ""
